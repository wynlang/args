fn parse_flag(args: array, flag: string) -> bool {
    for i in 0..args.len() {
        var a = "" + args[i]
        if a == flag { return true }
    }
    return false
}

fn parse_value(args: array, flag: string) -> string {
    for i in 0..args.len() {
        var a = "" + args[i]
        if a == flag && i + 1 < args.len() { return "" + args[i + 1] }
    }
    return ""
}

test "flag found" {
    var test_args = ["app", "--verbose", "--port", "8080", "run"]
    assert(parse_flag(test_args, "--verbose"))
}

test "flag missing" {
    var test_args = ["app", "--verbose", "--port", "8080", "run"]
    assert(!parse_flag(test_args, "--debug"))
}

test "value" {
    var test_args = ["app", "--verbose", "--port", "8080", "run"]
    assert_eq(parse_value(test_args, "--port"), "8080")
}

test "missing value" {
    var test_args = ["app", "--verbose", "--port", "8080", "run"]
    assert_eq(parse_value(test_args, "--host"), "")
}
